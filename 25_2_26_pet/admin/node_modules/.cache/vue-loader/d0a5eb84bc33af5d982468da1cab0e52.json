{"remainingRequest":"D:\\pet\\25_2_26_pet\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\pet\\25_2_26_pet\\admin\\src\\components\\VerificationCode\\sIdentify.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\pet\\25_2_26_pet\\admin\\src\\components\\VerificationCode\\sIdentify.vue","mtime":1742051810000},{"path":"D:\\pet\\25_2_26_pet\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\pet\\25_2_26_pet\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\pet\\25_2_26_pet\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\pet\\25_2_26_pet\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnU0lkZW50aWZ5JywKICBwcm9wczogewogICAgaWRlbnRpZnlDb2RlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJzEyMzQnLAogICAgfSwKICAgIGZvbnRTaXplTWluOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMzUsCiAgICB9LAogICAgZm9udFNpemVNYXg6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAzNSwKICAgIH0sCiAgICBiYWNrZ3JvdW5kQ29sb3JNaW46IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAxODAsCiAgICB9LAogICAgYmFja2dyb3VuZENvbG9yTWF4OiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMjQwLAogICAgfSwKICAgIGNvbG9yTWluOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogNTAsCiAgICB9LAogICAgY29sb3JNYXg6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAxNjAsCiAgICB9LAogICAgbGluZUNvbG9yTWluOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMTAwLAogICAgfSwKICAgIGxpbmVDb2xvck1heDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDIwMCwKICAgIH0sCiAgICBkb3RDb2xvck1pbjogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDAsCiAgICB9LAogICAgZG90Q29sb3JNYXg6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAyNTUsCiAgICB9LAogICAgY29udGVudFdpZHRoOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMTIwLAogICAgfSwKICAgIGNvbnRlbnRIZWlnaHQ6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiA0MCwKICAgIH0sCiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDnlJ/miJDkuIDkuKrpmo/mnLrmlbAKICAgIHJhbmRvbU51bShtaW4sIG1heCkgewogICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikgKyBtaW4pCiAgICB9LAogICAgLy8g55Sf5oiQ5LiA5Liq6ZqP5py655qE6aKc6ImyCiAgICByYW5kb21Db2xvcihtaW4sIG1heCkgewogICAgICBsZXQgciA9IHRoaXMucmFuZG9tTnVtKG1pbiwgbWF4KQogICAgICBsZXQgZyA9IHRoaXMucmFuZG9tTnVtKG1pbiwgbWF4KQogICAgICBsZXQgYiA9IHRoaXMucmFuZG9tTnVtKG1pbiwgbWF4KQogICAgICByZXR1cm4gJ3JnYignICsgciArICcsJyArIGcgKyAnLCcgKyBiICsgJyknCiAgICB9LAogICAgdHJhbnNwYXJlbnQoKSB7CiAgICAgIHJldHVybiAncmdiKDI1NSwyNTUsMjU1KScKICAgIH0sCiAgICBkcmF3UGljKCkgewogICAgICBsZXQgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3MtY2FudmFzJykKICAgICAgbGV0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpCiAgICAgIGN0eC50ZXh0QmFzZWxpbmUgPSAnYm90dG9tJwogICAgICAvLyDnu5jliLbog4zmma8KICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMucmFuZG9tQ29sb3IoCiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kQ29sb3JNaW4sCiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kQ29sb3JNYXgKICAgICAgKTsKICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMudHJhbnNwYXJlbnQoKQogICAgICBjdHguZmlsbFJlY3QoMCwgMCwgdGhpcy5jb250ZW50V2lkdGgsIHRoaXMuY29udGVudEhlaWdodCkKICAgICAgLy8g57uY5Yi25paH5a2XCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5pZGVudGlmeUNvZGUubGVuZ3RoOyBpKyspIHsKICAgICAgICB0aGlzLmRyYXdUZXh0KGN0eCwgdGhpcy5pZGVudGlmeUNvZGVbaV0sIGkpCiAgICAgIH0KICAgICAgdGhpcy5kcmF3TGluZShjdHgpCiAgICAgIHRoaXMuZHJhd0RvdChjdHgpCiAgICB9LAogICAgZHJhd1RleHQoY3R4LCB0eHQsIGkpIHsKICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMucmFuZG9tQ29sb3IodGhpcy5jb2xvck1pbiwgdGhpcy5jb2xvck1heCkKICAgICAgY3R4LmZvbnQgPQogICAgICAgIHRoaXMucmFuZG9tTnVtKHRoaXMuZm9udFNpemVNaW4sIHRoaXMuZm9udFNpemVNYXgpICsgJ3B4IFNpbUhlaScKICAgICAgbGV0IHggPSAoaSArIDEpICogKHRoaXMuY29udGVudFdpZHRoIC8gKHRoaXMuaWRlbnRpZnlDb2RlLmxlbmd0aCArIDEpKQogICAgICBsZXQgeSA9IHRoaXMucmFuZG9tTnVtKHRoaXMuZm9udFNpemVNYXgsIHRoaXMuY29udGVudEhlaWdodCAtIDUpCiAgICAgIHZhciBkZWcgPSB0aGlzLnJhbmRvbU51bSgtMTAsIDEwKQogICAgICAvLyDkv67mlLnlnZDmoIfljp/ngrnlkozml4vovazop5LluqYKICAgICAgY3R4LnRyYW5zbGF0ZSh4LCB5KQogICAgICBjdHgucm90YXRlKChkZWcgKiBNYXRoLlBJKSAvIDE4MCkKICAgICAgY3R4LmZpbGxUZXh0KHR4dCwgMCwgMCkKICAgICAgLy8g5oGi5aSN5Z2Q5qCH5Y6f54K55ZKM5peL6L2s6KeS5bqmCiAgICAgIGN0eC5yb3RhdGUoKC1kZWcgKiBNYXRoLlBJKSAvIDE4MCkKICAgICAgY3R4LnRyYW5zbGF0ZSgteCwgLXkpCiAgICB9LAogICAgZHJhd0xpbmUoY3R4KSB7CiAgICAgIC8vIOe7mOWItuW5suaJsOe6vwogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpKyspIHsKICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLnJhbmRvbUNvbG9yKHRoaXMubGluZUNvbG9yTWluLCB0aGlzLmxpbmVDb2xvck1heCkKICAgICAgICBjdHguYmVnaW5QYXRoKCkKICAgICAgICBjdHgubW92ZVRvKAogICAgICAgICAgdGhpcy5yYW5kb21OdW0oMCwgdGhpcy5jb250ZW50V2lkdGgpLAogICAgICAgICAgdGhpcy5yYW5kb21OdW0oMCwgdGhpcy5jb250ZW50SGVpZ2h0KQogICAgICAgICkKICAgICAgICBjdHgubGluZVRvKAogICAgICAgICAgdGhpcy5yYW5kb21OdW0oMCwgdGhpcy5jb250ZW50V2lkdGgpLAogICAgICAgICAgdGhpcy5yYW5kb21OdW0oMCwgdGhpcy5jb250ZW50SGVpZ2h0KQogICAgICAgICkKICAgICAgICBjdHguc3Ryb2tlKCkKICAgICAgfQogICAgfSwKICAgIGRyYXdEb3QoY3R4KSB7CiAgICAgIC8vIOe7mOWItuW5suaJsOeCuQogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwMDsgaSsrKSB7CiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMucmFuZG9tQ29sb3IoMCwgMjU1KQogICAgICAgIGN0eC5iZWdpblBhdGgoKQogICAgICAgIGN0eC5hcmMoCiAgICAgICAgICB0aGlzLnJhbmRvbU51bSgwLCB0aGlzLmNvbnRlbnRXaWR0aCksCiAgICAgICAgICB0aGlzLnJhbmRvbU51bSgwLCB0aGlzLmNvbnRlbnRIZWlnaHQpLAogICAgICAgICAgMSwKICAgICAgICAgIDAsCiAgICAgICAgICAyICogTWF0aC5QSQogICAgICAgICkKICAgICAgICBjdHguZmlsbCgpCiAgICAgIH0KICAgIH0sCiAgfSwKICB3YXRjaDogewogICAgaWRlbnRpZnlDb2RlKCkgewogICAgICB0aGlzLmRyYXdQaWMoKQogICAgfSwKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmRyYXdQaWMoKQogIH0sCn0K"},{"version":3,"sources":["sIdentify.vue"],"names":[],"mappings":";;;;;;;;;;;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"sIdentify.vue","sourceRoot":"src/components/VerificationCode","sourcesContent":["<template>\n  <!-- 随机生成图形验证码 -->\n  <div class=\"s-canvas\">\n    <canvas\n      id=\"s-canvas\"\n      :width=\"contentWidth\"\n      :height=\"contentHeight\"\n    ></canvas>\n  </div>\n</template>\n<script>\nexport default {\n  name: 'SIdentify',\n  props: {\n    identifyCode: {\n      type: String,\n      default: '1234',\n    },\n    fontSizeMin: {\n      type: Number,\n      default: 35,\n    },\n    fontSizeMax: {\n      type: Number,\n      default: 35,\n    },\n    backgroundColorMin: {\n      type: Number,\n      default: 180,\n    },\n    backgroundColorMax: {\n      type: Number,\n      default: 240,\n    },\n    colorMin: {\n      type: Number,\n      default: 50,\n    },\n    colorMax: {\n      type: Number,\n      default: 160,\n    },\n    lineColorMin: {\n      type: Number,\n      default: 100,\n    },\n    lineColorMax: {\n      type: Number,\n      default: 200,\n    },\n    dotColorMin: {\n      type: Number,\n      default: 0,\n    },\n    dotColorMax: {\n      type: Number,\n      default: 255,\n    },\n    contentWidth: {\n      type: Number,\n      default: 120,\n    },\n    contentHeight: {\n      type: Number,\n      default: 40,\n    },\n  },\n  methods: {\n    // 生成一个随机数\n    randomNum(min, max) {\n      return Math.floor(Math.random() * (max - min) + min)\n    },\n    // 生成一个随机的颜色\n    randomColor(min, max) {\n      let r = this.randomNum(min, max)\n      let g = this.randomNum(min, max)\n      let b = this.randomNum(min, max)\n      return 'rgb(' + r + ',' + g + ',' + b + ')'\n    },\n    transparent() {\n      return 'rgb(255,255,255)'\n    },\n    drawPic() {\n      let canvas = document.getElementById('s-canvas')\n      let ctx = canvas.getContext('2d')\n      ctx.textBaseline = 'bottom'\n      // 绘制背景\n      ctx.fillStyle = this.randomColor(\n        this.backgroundColorMin,\n        this.backgroundColorMax\n      );\n      ctx.fillStyle = this.transparent()\n      ctx.fillRect(0, 0, this.contentWidth, this.contentHeight)\n      // 绘制文字\n      for (let i = 0; i < this.identifyCode.length; i++) {\n        this.drawText(ctx, this.identifyCode[i], i)\n      }\n      this.drawLine(ctx)\n      this.drawDot(ctx)\n    },\n    drawText(ctx, txt, i) {\n      ctx.fillStyle = this.randomColor(this.colorMin, this.colorMax)\n      ctx.font =\n        this.randomNum(this.fontSizeMin, this.fontSizeMax) + 'px SimHei'\n      let x = (i + 1) * (this.contentWidth / (this.identifyCode.length + 1))\n      let y = this.randomNum(this.fontSizeMax, this.contentHeight - 5)\n      var deg = this.randomNum(-10, 10)\n      // 修改坐标原点和旋转角度\n      ctx.translate(x, y)\n      ctx.rotate((deg * Math.PI) / 180)\n      ctx.fillText(txt, 0, 0)\n      // 恢复坐标原点和旋转角度\n      ctx.rotate((-deg * Math.PI) / 180)\n      ctx.translate(-x, -y)\n    },\n    drawLine(ctx) {\n      // 绘制干扰线\n      for (let i = 0; i < 10; i++) {\n        ctx.strokeStyle = this.randomColor(this.lineColorMin, this.lineColorMax)\n        ctx.beginPath()\n        ctx.moveTo(\n          this.randomNum(0, this.contentWidth),\n          this.randomNum(0, this.contentHeight)\n        )\n        ctx.lineTo(\n          this.randomNum(0, this.contentWidth),\n          this.randomNum(0, this.contentHeight)\n        )\n        ctx.stroke()\n      }\n    },\n    drawDot(ctx) {\n      // 绘制干扰点\n      for (let i = 0; i < 100; i++) {\n        ctx.fillStyle = this.randomColor(0, 255)\n        ctx.beginPath()\n        ctx.arc(\n          this.randomNum(0, this.contentWidth),\n          this.randomNum(0, this.contentHeight),\n          1,\n          0,\n          2 * Math.PI\n        )\n        ctx.fill()\n      }\n    },\n  },\n  watch: {\n    identifyCode() {\n      this.drawPic()\n    },\n  },\n  mounted() {\n    this.drawPic()\n  },\n}\n</script>"]}]}